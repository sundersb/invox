# Выгрузка счетов из Релакс в XML

Консольная утилита для выгрузки счетов за оказанную медицинскую помощь из АРМ ЛПУ Релакс (Хабаровский край) в XML  для последующей отправки в ХКФОМС (БАРС.Процессинг).

## Что делает эта программа
- Выгружает сведения об оказанных пациентам своей территории услугах в ЛПУ амбулаторно-поликлинического профиля. Формат выгрузки соответствует регламенту, установленному приказами федерального ФОМС с поправками на самодеятельность краевого фонда.

## Чего не делает эта программа
- Не проверяет полученные из Релакс данные на корректность/целостность/достоверность/полноту и пр.
- Не выгружает иногородних
- Не работает с круглосуточными стационарами, стоматологией, педиатрией. Все это планируется в дальнейшем
- Не разбивает основные счета по договорам. Получатель выгрузки в настоящее время только ХКФОМС
- Не высылает полученные файлы в БАРС
- Не работает с протоколом ошибок ТК/ФЛК

## Требования для установки
- .NET Framework 3.5
- VFP OLE DB Provider

## Требования для компиляции
- MS VC# 2010

## Статус
Альфа. См. Roadmap

## Roadmap
- Test unit
- XML-трансформация получившихся файлов для формального контроля ошибок
- Сжатие выгрузки в ZIP-архив
- Заменить кошмарный Model.Reason на кошерный
- Результат диспансеризации
- Иногородние - извлечение из Релакс ОКАТО, СМО пациента и т.д.
- Тарифы и стоимость - где их брать при подушевом финансировании мля??
- Количество записей в ZGLV.SD_Z заранее неизвестно
- Признаки "особый случай" (OS_SLUCH) ХКФОМС противоречат ФФОМС
- SLUCH.TAL_D, SLUCH.TAL_P - где брать?
- Признак поступления/перевода SLUCH.P_PER
- Вид и метод ВМП
- Оптимизация поиска кодов для V006, V008, V014, V002, V015, V010, цель обращения
- Выгрузка стационара, стоматологии, СМП и т.д.

## Справочники
Худо-бедно подставляются коды классификаторов для
- СМО (SLMSO) - Федеральный справочник F002. Только своя территория
- Профиль медицинской помощи (SLMSP) - справочник V002
- Условия оказания медицинской помощи (SLUSL) - V006
- Вид МП (пол-потолок - из КМУ) - V008
- Результат обращения (REZOBR) - V009
- Способ оплаты (OPLMSP) - V010
- Исход госпиталиации (BOLEND) - V012
- Форма оказания МП (пол-потолок) V014
- Медицинские специальности (SLSPEC) - V015. Ввиду серьезных различий полное соответствие федерального и локального справочников не представляется возможным.
- Типы документов, удостоверяющих личность (TPDOC) - F011
- Цель обращения (OPLMSP, пол-потолок) - ХКФОМС
Продолжается работа по адаптации других справочников

## Перспектива
- Выгрузка иногородних
- Круглосуточные стационары
- Детские ЛПУ
